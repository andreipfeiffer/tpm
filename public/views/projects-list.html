<section>

    <header class="clearfix">
        <h1 class="pull-left">Projects list</h1>
        <br><a href="#projects/new" class="btn btn-success pull-right">Got a New Project?</a>
    </header>

    <hr>
    <br>

    <section>

        <form>

            <div class="btn-group">
                <button type="button" class="btn btn-default btn-sm"
                    ng-class="{active: filterStatus == ''}"
                    ng-click="setFilterStatus('')">All active projects</button>
                <button type="button" class="btn btn-default btn-sm text-capitalize"
                    ng-repeat="status in filterStatusOptions"
                    ng-class="{active: filterStatus == status}"
                    ng-click="setFilterStatus(status)">{{status}}</button>
                <!-- <a href="#projects/list/{{filterStatusOptions[3]}}" class="btn btn-default btn-sm text-capitalize"
                    ng-class="{active: filterStatus == filterStatusOptions[3]}">{{filterStatusOptions[3]}}</a> -->
            </div>

        </form>

        <br>

        <table class="table table-hover">
            <thead>
                <tr>
                    <th width="50%" class="text-uppercase">Project name</th>
                    <th class="text-uppercase">Status</th>
                    <th width="100" class="text-uppercase">Deadline</th>
                    <th width="160" class="text-uppercase">Work Days</th>
                    <th width="120" class="text-uppercase text-center">Actions</th>
                </tr>
            </thead>
            <tbody>
                <tr
                    ng-repeat="project in projectsList | orderBy:'remainingDays' | filterByProjectStatus:filterStatus"
                    ng-class="{
                        danger: (filterActiveStatusOptions.indexOf(project.status) > -1) && (project.remainingDays <= project.days),
                        warning: (filterActiveStatusOptions.indexOf(project.status) > -1) && (project.remainingDays <= (project.days + 2))
                    }">
                    <td>
                        <b>{{project.name}}</b><br>
                        {{project.clientName}}
                    </td>
                    <td class="text-capitalize">{{project.status}}</td>
                    <td>{{project.remainingText}}</td>
                    <td>{{project.remainingDays}} left / {{project.days}} est.</td>
                    <td>
                        <div class="btn-group">
                            <a href="#projects/{{project.id}}" class="btn btn-default btn-sm">
                                <span class="glyphicon glyphicon-list-alt"></span>
                            </a>
                            <a href="#projects/{{project.id}}/edit" class="btn btn-default btn-sm">
                                <span class="glyphicon glyphicon-pencil"></span>
                            </a>
                            <button type="button" class="btn btn-default btn-sm" ng-click="deleteProject(project.id)">
                                <span class="glyphicon glyphicon-remove"></span>
                            </button>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>

        <p class="alert alert-warning text-center" ng-show="!isLoading && !(projectsList | filter: filterStatus).length">The are no Projects to display</p>
        <p class="b-loading center-block" ng-show="isLoading"></p>
    </section>

</section>
