<section>

    <header class="clearfix row">
        <h1 class="pull-left col-sm-8">Reports</h1>
    </header>

    <hr>
    <br>

    <div ng-hide="isLoading">

        <canvas height="70" id="line" class="chart chart-line" chart-data="chart.data" chart-labels="chart.labels"  chart-series="chart.series" 
    chart-legend="true"></canvas>

        <section>
            <table class="table table-hover table-tpm">
                <thead>
                    <tr>
                        <th class="text-uppercase">Month</th>
                        <th width="160" class="text-uppercase">Projects</th>
                        <th width="160" class="text-uppercase">Income</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="month in projects">
                        <td>
                            <strong>{{month.month}}</strong>
                        </td>
                        <td>
                            <a href="" ng-click="showProjects(month.month, month.projects)">{{month.projects.length}} projects</a>
                        </td>
                        <td>
                            {{month.price}}
                        </td>
                    </tr>
                </tbody>
            </table>

            <p class="alert alert-warning text-center" ng-show="!isLoading && !projects.length">
                The are no Reports to display
            </p>
        </section>

        <p>NOTE: if a project was "Finished" on a particular month, but "Paid" in another month, it will appear on the month that was "Paid".</p>
        <p><b>Finished, but Not Paid: {{ notPaid }}</b></p>

        <br><br>

        <section>
            <h2>Most income per client</h2>
            <table class="table table-hover table-tpm">
                <thead>
                    <tr>
                        <th class="text-uppercase">Client</th>
                        <th width="160" class="text-uppercase">Projects</th>
                        <th width="160" class="text-uppercase">Income</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="client in clientsByPrice | limitTo: 10">
                        <td>
                            <strong>{{client.name}}</strong>
                        </td>
                        <td>
                            <a href="" ng-click="showProjects(client.name, client.projects)">{{client.projects.length}} projects</a>
                        </td>
                        <td>
                            {{client.price}}
                        </td>
                    </tr>
                </tbody>
            </table>

            <p class="alert alert-warning text-center" ng-show="!isLoading && !clientsByPrice.length">
                The are no Reports to display
            </p>
        </section>

        <br><br>

        <section>
            <h2>Most projects per client</h2>
            <table class="table table-hover table-tpm">
                <thead>
                    <tr>
                        <th class="text-uppercase">Client</th>
                        <th width="160" class="text-uppercase">Projects</th>
                        <th width="160" class="text-uppercase">Income</th>
                    </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="client in clientsByProjects | limitTo: 10">
                        <td>
                            <strong>{{client.name}}</strong>
                        </td>
                        <td>
                            <a href="" ng-click="showProjects(client.name, client.projects)">{{client.projects.length}} projects</a>
                        </td>
                        <td>
                            {{client.price}}
                        </td>
                    </tr>
                </tbody>
            </table>

            <p class="alert alert-warning text-center" ng-show="!isLoading && !clientsByProjects.length">
                The are no Reports to display
            </p>
        </section>

    </div>

</section>
