<section>

    <header class="clearfix">
        <h1 class="pull-left">{{formAction}} Project</h1>
        <br><a href="#projects" class="btn btn-default pull-right">Back to listing</a>
    </header>

    <hr>
    <br>

    <form name="projectsForm" ng-submit="submitForm()" novalidate>

        <div class="row">
            <div class="col-sm-8 form-group">
                <input type="text" ng-model="project.name" class="form-control input-lg" placeholder="Project name" ui-validate=" '$value.trim().length >= 3' " set-focus>
            </div>
            <div class="col-sm-4 form-group">
                <div class="input-group" ng-if="showQuickClient">
                    <input type="text" ng-model="project.newClientName" ng-if="isNewClient" ng-show="isNewClient" class="form-control" placeholder="New client name">
                    <client-select></client-select>
                    <span class="input-group-btn">
                        <button class="btn btn-default" type="button" ng-click="toggleClientSelect()">
                            <span class="glyphicon glyphicon-th-large" ng-show="isNewClient"></span>
                            <span class="glyphicon glyphicon-plus" ng-hide="isNewClient"></span>
                        </button>
                    </span>
                </div>
                <span class="help-block" ng-if="showQuickClient">Add a new client or set an existing one.</span>

                <client-select ng-if="!showQuickClient"></client-select>
            </div>
        </div>

        <br>

        <div class="form-group row">

            <div class="col-xs-8 col-sm-3">
                <label class="control-label" for="projectPriceFinal">Deadline:</label>
                <div class="input-group">
                    <input type="text" class="form-control"
                        ng-model="selectedDateEstimated"
                        datepicker-popup="{{dateSettings.dateFormat}}"
                        datepicker-options="dateSettings.dateOptions"
                        date-disabled="disabled(date, mode)"
                        is-open="isDatePickerOpened" close-text="Close"
                    />
                    <span class="input-group-btn">
                        <button type="button" class="btn btn-default" ng-click="openDatePicker($event)"><i class="glyphicon glyphicon-calendar"></i></button>
                    </span>
                </div>
            </div>

            <div class="col-xs-4 col-sm-2">
                <label class="control-label" for="projectDays">Est<span class="hidden-xs">imated</span> days:</label>
                <input id="projectDays" class="form-control" ng-model="project.days" type="number" placeholder="Number of days">
            </div>

            <div class="clearfix visible-xs-block form-group"></div>

            <div class="col-xs-6 col-sm-2">
                <label class="control-label" for="projectPriceEstimated">Est<span class="hidden-xs">imated</span> price:</label>
                <div class="input-group">
                    <input id="projectPriceEstimated" class="form-control" ng-model="project.priceEstimated" type="number">
                    <div class="input-group-addon">RON</div>
                </div>
            </div>

            <div class="col-xs-6 col-sm-2">
                <label class="control-label" for="projectPriceFinal">Final price:</label>
                <div class="input-group">
                    <input id="projectPriceFinal" class="form-control" ng-model="project.priceFinal" type="number">
                    <div class="input-group-addon">RON</div>
                </div>
            </div>

            <div class="clearfix visible-xs-block form-group"></div>

            <div class="col-sm-3">
                <label class="control-label" for="projectStatus">Status:</label>
                <select id="projectStatus" ng-model="project.status" ng-options="status for status in statusList" class="form-control"></select>
            </div>
        </div>

        <br>

        <div class="form-group">
            <label class="control-label" for="projectDescription">Project description:</label>
            <textarea id="projectDescription" ng-model="project.description" class="form-control" rows="5"></textarea>
        </div>

        <button type="submit" class="btn btn-primary" ng-disabled="isLoading || projectsForm.$invalid">{{formSubmit}}</button>
    </form>

</section>
